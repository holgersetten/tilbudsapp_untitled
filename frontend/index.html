<!DOCTYPE html>
<html lang="no" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Middagstilbud – Modern</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32'><text y='24' font-size='24'>🍳</text></svg>">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <a href="#content" class="sr-only">Hopp til innhold</a>
  <div class="app-shell">
    <aside class="sidebar">
      <div class="brand">
        <span style="font-size:28px;">🍳</span>
        <h1>Middagstilbud</h1>
      </div>
      
      <nav class="primary-nav">
        <button class="tab-btn active" id="tab-middager" onclick="showTab('middager')">
          <span>🍽️</span> Middager
        </button>
        <button class="tab-btn" id="tab-tilbud" onclick="showTab('tilbud')">
          <span>🏷️</span> Tilbud
        </button>
        <button class="tab-btn" id="tab-handleliste" onclick="showTab('handleliste')">
          <span>🛒</span> Handleliste
        </button>
      </nav>
      
      <div class="store-filter">
        <h3>Butikker</h3>
        <div class="store-buttons">
          <button class="store-btn active" data-store="" onclick="filterStore(this)">
            <span style="font-size: 24px;">🏪</span>
          </button>
          <button class="store-btn" data-store="Bunnpris" onclick="filterStore(this)">
            <img src="/images/bunnpris_logo.png" alt="Bunnpris" />
          </button>
          <button class="store-btn" data-store="Rema 1000" onclick="filterStore(this)">
            <img src="/images/rema_logo.png" alt="Rema 1000" />
          </button>
          <button class="store-btn" data-store="Meny" onclick="filterStore(this)">
            <img src="/images/meny_logo.png" alt="Meny" />
          </button>
          <button class="store-btn" data-store="Kiwi" onclick="filterStore(this)">
            <img src="/images/kiwi_logo.png" alt="Kiwi" />
          </button>
          <button class="store-btn" data-store="Spar" onclick="filterStore(this)">
            <img src="/images/spar_logo_1.png" alt="Spar" />
          </button>
          <button class="store-btn" data-store="Coop Extra" onclick="filterStore(this)">
            <img src="/images/coop_extra_logo.png" alt="Coop Extra" />
          </button>
          <button class="store-btn" data-store="Coop Mega" onclick="filterStore(this)">
            <img src="/images/coop_mega_logo.png" alt="Coop Mega" />
          </button>
          <button class="store-btn" data-store="Coop Marked" onclick="filterStore(this)">
            <img src="/images/coop_marked_logo.png" alt="Coop Marked" />
          </button>
          <button class="store-btn" data-store="Coop Prix" onclick="filterStore(this)">
            <img src="/images/coop_prix_logo.png" alt="Coop Prix" />
          </button>
          <button class="store-btn" data-store="Obs" onclick="filterStore(this)">
            <img src="/images/coop_obs_logo.png" alt="Obs" />
          </button>
          <button class="store-btn" data-store="Joker" onclick="filterStore(this)">
            <img src="/images/joker_logo.png" alt="Joker" />
          </button>
        </div>
      </div>
    </aside>

    <main>
      <div id="middager-content" class="content active">
        <div class="header-section">
          <h2>Finn middagsforslag</h2>
          <p>Søk etter ingredienser for å få personlige middagsforslag basert på tilbud</p>
        </div>
        
        <div class="search-section">
          <div class="search-form">
            <div class="input-group">
              <label for="ingredients-input">Søk etter middager eller ingredienser</label>
              <input 
                type="text" 
                id="ingredients-input" 
                class="search-input" 
                placeholder="f.eks. pasta, curry, kjøttdeig"
                onkeypress="if(event.key==='Enter') searchMeals()"
                oninput="handleSearchInput()"
              />
            </div>
            <button type="button" class="btn btn-primary" onclick="searchMeals()">
              <span>🔍</span> Søk middager
            </button>
          </div>
          
          <!-- Selected ingredient tags -->
          <div id="selected-tags" class="selected-tags-container" style="display: none;">
            <div class="selected-tags-header">
              <span>Valgte ingredienser:</span>
              <button class="clear-all-btn" onclick="clearAllTags()">Fjern alle</button>
            </div>
            <div class="tags-input-area" onclick="focusTagInput()">
              <div id="selected-tags-list" class="selected-tags"></div>
              <div class="tag-input-wrapper">
                <input 
                  type="text" 
                  id="tag-input" 
                  class="tag-input" 
                  placeholder="+"
                  onkeyup="handleTagInput(event)"
                  onblur="handleTagBlur()"
                  onfocus="handleTagFocus()"
                />
              </div>
            </div>
          </div>
        </div>
        
        <div id="content">
          <!-- Placeholder meal suggestions shown on page load -->
          <div id="placeholder-meals" class="suggested-meals-section">
            <div class="suggested-header">
              <h3>✨ Populære middagsforslag</h3>
              <p>Velg en av disse populære rettene eller søk etter egne ingredienser</p>
            </div>
            <div class="suggested-meals-grid">
              <div class="meal-suggestion" onclick="loadMealSuggestion('spaghetti, kjøttdeig, tomater')">
                <div class="meal-icon">🍝</div>
                <h4>Spaghetti Bolognese</h4>
                <p>spaghetti, kjøttdeig, tomater</p>
              </div>
              <div class="meal-suggestion" onclick="loadMealSuggestion('kyllingfilet, kokosmelk, karri')">
                <div class="meal-icon">🍛</div>
                <h4>Kylling i Curry</h4>
                <p>kyllingfilet, kokosmelk, karri</p>
              </div>
              <div class="meal-suggestion" onclick="loadMealSuggestion('kjøttdeig, tacoskjell, tomat')">
                <div class="meal-icon">🌮</div>
                <h4>Taco med Kjøttdeig</h4>
                <p>kjøttdeig, tacoskjell, tomat</p>
              </div>
              <div class="meal-suggestion" onclick="loadMealSuggestion('laks, salat, avokado')">
                <div class="meal-icon">🐟</div>
                <h4>Laksesalat</h4>
                <p>laks, salat, avokado</p>
              </div>
              <div class="meal-suggestion" onclick="loadMealSuggestion('pasta, bacon, egg')">
                <div class="meal-icon">�</div>
                <h4>Pasta Carbonara</h4>
                <p>pasta, bacon, egg</p>
              </div>
              <div class="meal-suggestion" onclick="loadMealSuggestion('pizzabunn, mozzarella, tomatsaus')">
                <div class="meal-icon">�</div>
                <h4>Pizza Margherita</h4>
                <p>pizzabunn, mozzarella, tomatsaus</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="tilbud-content" class="content">
        <div class="header-section">
          <h2>Se alle tilbud</h2>
        </div>
        
        <!-- Categories section -->
        <div class="categories-section">
          <div class="categories-grid">
            <button class="category-btn" onclick="searchOffersByCategory('ferdigpizza')">
              <span class="category-icon">🍕</span>
              <span class="category-text">Ferdigpizza</span>
            </button>
            <button class="category-btn" onclick="searchOffersByCategory('energidrikke')">
              <span class="category-icon">⚡</span>
              <span class="category-text">Energidrikke</span>
            </button>
            <button class="category-btn" onclick="searchOffersByCategory('pålegg')">
              <span class="category-icon">🥪</span>
              <span class="category-text">Pålegg</span>
            </button>
            <button class="category-btn" onclick="searchOffersByCategory('yogurt')">
              <span class="category-icon">🥛</span>
              <span class="category-text">Yogurt</span>
            </button>
            <button class="category-btn" onclick="searchOffersByCategory('brød')">
              <span class="category-icon">🍞</span>
              <span class="category-text">Brød</span>
            </button>
            <button class="category-btn" onclick="searchOffersByCategory('kjøtt')">
              <span class="category-icon">🥩</span>
              <span class="category-text">Kjøtt</span>
            </button>
            <button class="category-btn" onclick="searchOffersByCategory('frukt')">
              <span class="category-icon">🍎</span>
              <span class="category-text">Frukt</span>
            </button>
            <button class="category-btn" onclick="searchOffersByCategory('snacks')">
              <span class="category-icon">🍿</span>
              <span class="category-text">Snacks</span>
            </button>
          </div>
        </div>
        
        <div class="search-section compact">
          <div class="search-form compact">
            <div class="input-group compact">
              <input 
                type="text" 
                id="offers-search-input" 
                class="search-input compact" 
                placeholder="Søk i tilbud (f.eks. kjøttdeig, yogurt, brød)"
                onkeypress="if(event.key==='Enter') searchOffers()"
                oninput="handleOffersSearchInput()"
              />
            </div>
          </div>
        </div>
        
        <div id="offers-content"></div>
      </div>

      <div id="handleliste-content" class="content">
        <div class="header-section">
          <h2>Handleliste</h2>
          <p>Din personlige handleliste</p>
        </div>
        <div class="empty">
          <h3>Handleliste kommer snart</h3>
          <p>Denne funksjonen er under utvikling.</p>
        </div>
      </div>
    </main>
  </div>

  <script src="script.js"></script>
</body>
</html>
